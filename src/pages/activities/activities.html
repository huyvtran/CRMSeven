<!--
  Generated template for the ActivitiesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{viewTitle}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only  class="BigButton"(click)="addEvent()">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <calendar [eventSource]="eventSource"
          [calendarMode]="calendar.mode"
          [currentDate]="calendar.currentDate"
          (onEventSelected)="onEventSelected($event)"
           (onTitleChanged)="onViewTitleChanged($event)"
          (onTimeSelected)="onTimeSelected($event)"
          [noEventsLabel]="Agenda"
          step="30"
          class="calendar">
        </calendar>
</ion-header>


<ion-content>
  <ion-item (click)="showUsers()">
 <ion-icon name="eye" item-start></ion-icon>
 <ion-label>Visualizar como</ion-label>
 <ion-note item-end *ngIf="replicated">
   {{replicated.Usu_Nomb}}
 </ion-note>
  </ion-item>
  <ion-item (click)="removeReplicated()" *ngIf="replicated">
    <ion-label>Cancelar visualización de Usuario</ion-label>
    <ion-icon item-start name="remove-circle"></ion-icon>
  </ion-item>

        <ion-list #scheduleList>
          <ion-list-header>
            <h2>Próximas</h2>
          </ion-list-header>
          <div *ngFor="let activity of nextActivities">
          <ion-item-divider>
            <h3>{{activity.GrupoHora}}</h3>
          </ion-item-divider>
            <ion-item-group>
              <ion-item-sliding  *ngFor="let agend of activity.Agenda">
                <button ion-item (click)="openActivity(agend)">
                  <h3><b>{{agend.AGE_FINI | digitalDate}} - {{agend.AGE_FFIN | digitalDate}}</b></h3>
                  <h4>{{agend.PRO_NOMB}}</h4>

                 <p text-wrap>{{agend.CON_NOMB}} {{agend.CON_APEL}} - {{agend.AGE_ASUN}} - {{agend.ACT_NOMB}}</p>
                  <ion-icon name="clock" item-start></ion-icon>
                 </button>
                 <ion-item-options side="right">
                <button ion-button color="danger" (click)="RejectActivity(agend)">Cancelar</button>
            </ion-item-options>
            <ion-item-options side="left">
            <button ion-button color="primary" (click)="addCalendar(agend)" icon-start>
            <ion-icon name="calendar">
            </ion-icon> Añadir al calendario
          </button>
       </ion-item-options>
              </ion-item-sliding>
            </ion-item-group>
          </div>
        </ion-list>

</ion-content>
